{{ form.hidden_tag() }} <!--add type=hidden form fields -->
  
{% for field in form
       if field.widget.input_type != 'hidden' %}

  <div class="form-group">
    {{ field.label }}
    {{ field(class_='form-control') }}

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <p class="msgs {{ category }}">{{message}}</p>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% for error in field.errors %}
      <div class="error-msg">{{ error }}</div>
    {% endfor %}

  </div>
{% endfor %}